# 模块说明

# 上下文结构说明

- application: 对应了领域驱动设计的应用层,主要内容为该限界上下文中所有的应用服务
- interfaces: 对gateways中除persistence之外的抽象，包括访问除数据库之外其他外部资源的抽象接口，
以及对第三方服务或其他限界上下文的抽象接口。从分层架构的角度讲,interfaces应该属于应用层,但在实践时，
往往会遭遇领域层需要访问这些抽象接口的情形，单独分离出interfaces,非常有必要。
- domain: 对应了领域驱动设计的领域层，但是我将repositories单独分了出来，目的是为了更好地体现它在基础设施层扮演的与外部资源打交道的网关语义。
- repositories:代表了领域驱动设计中战术设计阶段的资源库，皆为抽象类型。如果该限界上下文的资源库并不复杂，可以将repositories合并到domain中
- gateways:
对应了领域驱动设计的基础设施层，命名为gateways，则是为了更好地体现网关的语义，其下可以视外部资源的集成需求划分不同的包。其中，controllers相对特殊，它属于对客户端提供接口的北向网关，等同于上下文映射中“开放主机服务（OHS）”的概念。如果为了凸显它的重要性，可以将controllers提升到与application、domain、gateways同等层次。我之所以将其放在gateways之下，还是想体现它的网关本质。persistence对应了repositories抽象，至于其余网关，对应的则是application/interfaces下的抽象，包括消息队列以及与其他限界上下文交互的客户端，例如通过http通信的客户端。其中，client包下的实现类与interfaces下的对应接口组合起来，等同于上下文映射中“防腐层（ACL）”的概念。